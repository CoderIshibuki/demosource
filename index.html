<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Demo DOM addEventListener</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .box {
            width: 200px; height: 100px;
            background-color: #ddd;
            border: 2px solid #333;
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 10px; font-weight: bold;
            text-align: center;
            transition: all 0.3s ease; /* Makes the hover effect smooth */
        }
        button { padding: 8px 15px; cursor: pointer; margin-right: 5px; }
        #log-area { margin-top: 20px; border-top: 1px dashed #ccc; padding-top: 10px; }
    </style>
</head>
<body>

    <h2>Demo: addEventListener</h2>

    <div id="target-box" class="box">Hộp Nội Dung</div>

    <div>
        <button id="btn-text">1. Đổi Text</button>
        <button id="btn-color">2. Đổi Màu</button>
        <button id="btn-add">3. Thêm Phần Tử</button>
    </div>

    <div id="log-area">
        <h3>Danh sách đã thêm:</h3>
        <ul id="list-container"></ul>
    </div>

    <script>
      
        const textMessages = [
            "1. Bắt đầu hành trình",
            "2. Học về DOM",
            "3. Hiểu về Event",
            "4. Thay đổi Style",
            "5. Kết thúc vòng lặp"
        ];
        let currentIndex = 0;

        
        const box = document.getElementById('target-box');
        const btnText = document.getElementById('btn-text');
        const btnColor = document.getElementById('btn-color');
        const btnAdd = document.getElementById('btn-add');
        const list = document.getElementById('list-container');

        // --- 3. DEFINE FUNCTIONS (The Logic) ---
        
        function handleTextChange() {
            box.innerHTML = textMessages[currentIndex];
            currentIndex++;
            if (currentIndex >= textMessages.length) {
                currentIndex = 0;
            }
        }

        function handleColorChange() {
            const randomColor = '#' + Math.floor(Math.random()*16777215).toString(16);
            box.style.backgroundColor = randomColor;
            box.style.color = "#fff";
        }

        function handleAddElement() {
            const newItem = document.createElement('li');
            newItem.textContent = "Item mới lúc " + new Date().toLocaleTimeString();
            list.appendChild(newItem);
        }

        
        btnText.addEventListener('click', handleTextChange);
        btnColor.addEventListener('click', handleColorChange);
        btnAdd.addEventListener('click', handleAddElement);

        // hiệu ứng khi di chuyển chuột vào
        
        // Khi di chuyển chuột vào hộp
        box.addEventListener('mouseenter', function() {
            box.style.borderColor = 'red';
            box.style.transform = 'scale(1.1)'; // Zooms in slightly
            box.innerText = "Đang trỏ chuột vào!"; // Temporary text change
        });

        // Khi di chuột ra khỏi hộp 
        box.addEventListener('mouseleave', function() {
            box.style.borderColor = '#333';
            box.style.transform = 'scale(1)'; 
            box.innerText = textMessages[currentIndex === 0 ? textMessages.length - 1 : currentIndex - 1] || "Hộp Nội Dung";
        });

    </script>
</body>
</html>